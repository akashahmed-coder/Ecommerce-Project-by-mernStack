{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Editor\\\\Desktop\\\\Ecommers\\\\client\\\\src\\\\component\\\\mainpages\\\\createProduct\\\\CreateProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport axios from 'axios';\nimport { GlobleState } from '../../../GlobleState';\nimport Loading from '../utiles/loading/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  product_id: \"\",\n  title: \"\",\n  price: 0,\n  description: \"is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500sdescription\",\n  content: \"content\",\n  category: \"\"\n};\nexport default function CreateProduct() {\n  _s();\n\n  const state = useContext(GlobleState);\n  const [category] = state.categoryApi.category;\n  const [token] = state.token;\n  const [isAdmin] = state.userApi.isAdmin;\n  const [product, setProduct] = useState(initialState);\n  const [images, setImages] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const handleFileChange = async e => {\n    e.preventDefault();\n\n    try {\n      if (!isAdmin) return \"you are not a admin\";\n      const file = e.target.files[0];\n      let formData = new FormData();\n      formData.append('file', file);\n      setLoading(true);\n      const res = await axios.post('/api/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: token\n        }\n      });\n      setLoading(false);\n      console.log(res);\n      setImages(res.data);\n    } catch (err) {\n      alert(err.response.data.msg);\n    }\n  };\n\n  const ClearImage = async () => {\n    try {\n      setLoading(true);\n      const res = await axios.post(\"api/destroy\", {\n        public_id: images.public_id,\n        tempFilePath: images.tempFilePath\n      }, {\n        headers: {\n          Authorization: token\n        }\n      });\n      setLoading(false);\n      setImages(false);\n    } catch (err) {\n      alert(err.response.data.msg);\n    }\n  };\n\n  const handleInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setProduct({ ...product,\n      [name]: value\n    });\n  };\n\n  const styleUpload = {\n    display: images ? 'block' : 'none'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create_product\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"file_up\",\n        name: \"file\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"file_img\",\n        children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"file_img\",\n        style: styleUpload,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: images ? images.url : \"\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: ClearImage,\n          children: \"\\u2716\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"product_id\",\n          children: \"Product Id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"product_id\",\n          value: product.product_id,\n          id: \"product_id\",\n          required: true,\n          onChange: handleInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"title\",\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          value: product.title,\n          id: \"title\",\n          required: true,\n          onChange: handleInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"price\",\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"price\",\n          value: product.price,\n          id: \"price\",\n          required: true,\n          onChange: handleInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          name: \"description\",\n          value: product.description,\n          id: \"description\",\n          rows: \"5\",\n          required: true,\n          onChange: handleInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"content\",\n          children: \"Content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          name: \"content\",\n          value: product.content,\n          id: \"content\",\n          rows: \"7\",\n          required: true,\n          onChange: handleInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"categories\",\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: product.category,\n          onChange: handleInput,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Please Select a Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this), category.map(el => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: el._id,\n              children: el.name\n            }, el._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 22\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateProduct, \"U1jW7VEHIwe9Oj0vfrVBZBERWeE=\");\n\n_c = CreateProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateProduct\");","map":{"version":3,"sources":["C:/Users/Editor/Desktop/Ecommers/client/src/component/mainpages/createProduct/CreateProduct.js"],"names":["React","useContext","useState","axios","GlobleState","Loading","initialState","product_id","title","price","description","content","category","CreateProduct","state","categoryApi","token","isAdmin","userApi","product","setProduct","images","setImages","loading","setLoading","handleFileChange","e","preventDefault","file","target","files","formData","FormData","append","res","post","headers","Authorization","console","log","data","err","alert","response","msg","ClearImage","public_id","tempFilePath","handleInput","name","value","styleUpload","display","url","map","el","_id"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { GlobleState } from '../../../GlobleState'\r\nimport Loading from '../utiles/loading/Loading'\r\n\r\nconst initialState = {\r\n  product_id: \"\",\r\n  title:\"\",\r\n  price:0,\r\n  description:\"is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500sdescription\",\r\n  content:\"content\",\r\n  category:\"\"\r\n\r\n}\r\nexport default function CreateProduct() {\r\n  const state = useContext(GlobleState)\r\n  const [category] = state.categoryApi.category\r\n  const [token] = state.token\r\n  const [isAdmin] = state.userApi.isAdmin\r\n  const [product,setProduct] = useState(initialState)\r\n  const [images,setImages] = useState(false)\r\n  const [loading,setLoading] = useState(false)\r\n\r\n\r\n  const handleFileChange = async(e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      if(!isAdmin) return \"you are not a admin\"\r\n      const file = e.target.files[0]\r\n      let formData = new FormData()\r\n      formData.append('file',file)\r\n      setLoading(true)\r\n      const res = await axios.post('/api/upload',formData,{\r\n        headers:{'Content-Type':'multipart/form-data',Authorization:token}\r\n      })\r\n      setLoading(false)\r\n      console.log(res)\r\n      setImages(res.data)\r\n      \r\n    } catch (err) {\r\n      alert(err.response.data.msg)\r\n    }\r\n  }\r\n  const ClearImage = async() => {\r\n    try {\r\n      setLoading(true)\r\n      const res = await axios.post(\"api/destroy\",{public_id:images.public_id,tempFilePath:images.tempFilePath},{\r\n        headers:{Authorization:token}\r\n      })\r\n      setLoading(false)\r\n      setImages(false)\r\n      \r\n    } catch (err) {\r\n      alert(err.response.data.msg)\r\n    }\r\n  }\r\n  const handleInput = (e) => {\r\n    const {name,value} = e.target\r\n    setProduct({...product,[name]:value})\r\n  }\r\n  const styleUpload = {\r\n    display: images?'block':'none'\r\n  }\r\n  return (\r\n    <div className='create_product'>\r\n      <div className='upload'>\r\n        <input type='file' id='file_up' name='file' onChange={handleFileChange}/>\r\n        {\r\n          loading? <div id='file_img'><Loading/></div>:\r\n        <div id='file_img' style={styleUpload}>\r\n          <img src={images? images.url : \"\"} alt=''/>\r\n          <span onClick={ClearImage}>✖</span>\r\n        </div>\r\n\r\n        }\r\n    \r\n      </div>\r\n      <form>\r\n        <div className='row'>\r\n           <label htmlFor='product_id'>Product Id</label>\r\n           <input type='text' name='product_id' value={product.product_id} id=\"product_id\" required onChange={handleInput}/>\r\n        </div>\r\n        <div className='row'>\r\n           <label htmlFor='title'>Title</label>\r\n           <input type='text' name='title' value={product.title} id=\"title\" required onChange={handleInput}/>\r\n        </div>\r\n        <div className='row'>\r\n           <label htmlFor='price'>Price</label>\r\n           <input type='text' name='price' value={product.price} id=\"price\" required onChange={handleInput}/>\r\n        </div>\r\n        <div className='row'>\r\n           <label htmlFor='description'>Description</label>\r\n           <textarea type='text' name='description' value={product.description} id=\"description\" rows='5' required onChange={handleInput}/>\r\n        </div>\r\n        <div className='row'>\r\n           <label htmlFor='content'>Content</label>\r\n           <textarea type='text' name='content' value={product.content} id=\"content\" rows='7' required onChange={handleInput}/>\r\n        </div>\r\n        <div className='row'>\r\n           <label htmlFor='categories'>Category</label>\r\n            <select value={product.category} onChange={handleInput}>\r\n              <option value=''>Please Select a Category</option>\r\n               {\r\n                 category.map(el => {\r\n                   return(\r\n                     <option value={el._id}key={el._id}>{el.name}</option>\r\n                   )\r\n                 })\r\n               }\r\n            </select>\r\n        </div>\r\n          <button type='submit'>Create</button>\r\n      </form>\r\n      \r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}