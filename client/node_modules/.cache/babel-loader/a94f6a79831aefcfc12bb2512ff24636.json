{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Editor\\\\Desktop\\\\Ecommers\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _defineProperty from\"C:\\\\Users\\\\Editor\\\\Desktop\\\\Ecommers\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";import _objectSpread from\"C:\\\\Users\\\\Editor\\\\Desktop\\\\Ecommers\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\Users\\\\Editor\\\\Desktop\\\\Ecommers\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Editor\\\\Desktop\\\\Ecommers\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState({name:'',email:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var onChangeInput=function onChangeInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var loginSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"/user/register\",_objectSpread({},user));case 4:localStorage.setItem('firstLogin',true);window.location.href=\"/\";_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);alert(_context.t0.response.data.msg);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function loginSubmit(_x){return _ref.apply(this,arguments);};}();useEffect(function(){document.title='Register';});return/*#__PURE__*/_jsxs(\"div\",{className:\"login-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:loginSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",name:\"name\",required:true,value:user.name,onChange:onChangeInput}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",name:\"email\",required:true,value:user.email,onChange:onChangeInput}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"password\",required:true,autoComplete:\"on\",value:user.password,onChange:onChangeInput}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})]})]});}","map":{"version":3,"sources":["C:/Users/Editor/Desktop/Ecommers/client/src/component/mainpages/auth/Register.js"],"names":["axios","React","useState","useEffect","Link","Login","name","email","password","user","setUser","onChangeInput","e","target","value","loginSubmit","preventDefault","post","localStorage","setItem","window","location","href","alert","response","data","msg","document","title"],"mappings":"2qBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAC9B,cAAuBH,QAAQ,CAAC,CAC9BI,IAAI,CAAC,EADyB,CACtBC,KAAK,CAAC,EADgB,CACbC,QAAQ,CAAC,EADI,CAAD,CAA/B,wCAAOC,IAAP,eAAYC,OAAZ,eAMA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAM,CACxB,cAAuBA,CAAC,CAACC,MAAzB,CAAOP,IAAP,WAAOA,IAAP,CAAcQ,KAAd,WAAcA,KAAd,CACAJ,OAAO,gCAAKD,IAAL,wBAAYH,IAAZ,CAAkBQ,KAAlB,GAAP,CACH,CAHD,CAIA,GAAMC,CAAAA,WAAW,0FAAG,iBAAMH,CAAN,kHAClBA,CAAC,CAACI,cAAF,GADkB,sCAGVhB,CAAAA,KAAK,CAACiB,IAAN,CAAW,gBAAX,kBAAgCR,IAAhC,EAHU,QAKhBS,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAkC,IAAlC,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CANgB,+EAUhBC,KAAK,CAAC,YAAIC,QAAJ,CAAaC,IAAb,CAAkBC,GAAnB,CAAL,CAVgB,oEAAH,kBAAXX,CAAAA,WAAW,4CAAjB,CAaAZ,SAAS,CAAC,UAAI,CACZwB,QAAQ,CAACC,KAAT,CAAiB,UAAjB,CACD,CAFQ,CAAT,CAGA,mBAAO,aAAK,SAAS,CAAC,YAAf,wBACJ,gCADI,cAEA,cAAM,QAAQ,CAAEb,WAAhB,wBACA,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,MAA/B,CAAsC,IAAI,CAAC,MAA3C,CAAkD,QAAQ,KAA1D,CAA2D,KAAK,CAAEN,IAAI,CAACH,IAAvE,CAA6E,QAAQ,CAAEK,aAAvF,EADA,cAEA,cAAO,IAAI,CAAC,OAAZ,CAAoB,WAAW,CAAC,OAAhC,CAAwC,IAAI,CAAC,OAA7C,CAAqD,QAAQ,KAA7D,CAA8D,KAAK,CAAEF,IAAI,CAACF,KAA1E,CAAiF,QAAQ,CAAEI,aAA3F,EAFA,cAGA,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,UAAnC,CAA8C,IAAI,CAAC,UAAnD,CAA8D,QAAQ,KAAtE,CAAuE,YAAY,CAAC,IAApF,CAAyF,KAAK,CAAEF,IAAI,CAACD,QAArG,CAA+G,QAAQ,CAAEG,aAAzH,EAHA,cAKD,aAAK,SAAS,CAAC,KAAf,wBACE,eAAQ,IAAI,CAAC,QAAb,sBADF,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,mBAFF,GALC,GAFA,GAAP,CAcD","sourcesContent":["import axios from 'axios';\r\nimport React, { useState ,useEffect} from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Login() {\r\n  const [user,setUser] = useState({\r\n    name:'',email:'',password:''\r\n  })\r\n\r\n\r\n\r\n  const onChangeInput = (e) =>{\r\n      const {name , value} = e.target\r\n      setUser({...user ,[name]:value})\r\n  }\r\n  const loginSubmit = async(e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(\"/user/register\",{...user})\r\n\r\n      localStorage.setItem('firstLogin',true)\r\n      window.location.href = \"/\"\r\n  \r\n      \r\n    } catch (err) {\r\n      alert(err.response.data.msg) \r\n    }\r\n  }\r\n  useEffect(()=>{\r\n    document.title = 'Register'\r\n  })\r\n  return <div className='login-page'>\r\n     <h2>Register</h2>\r\n         <form onSubmit={loginSubmit}>\r\n         <input type='text' placeholder='Name' name='name' required value={user.name} onChange={onChangeInput} />\r\n         <input type='email' placeholder='Email' name='email' required value={user.email} onChange={onChangeInput} />\r\n         <input type='password' placeholder='Password' name='password' required autoComplete='on' value={user.password} onChange={onChangeInput} />\r\n          \r\n        <div className='row'>\r\n          <button type='submit'>Register</button>\r\n          <Link to='/login'>Login</Link>\r\n        </div>\r\n\r\n          </form>     \r\n  </div>;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}