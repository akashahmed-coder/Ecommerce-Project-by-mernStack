{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Editor\\\\Desktop\\\\Ecommers\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\Editor\\\\Desktop\\\\Ecommers\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Editor\\\\Desktop\\\\Ecommers\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';import React,{useContext,useState}from'react';import{useParams}from'react-router-dom';import{GlobleState}from'../../../GlobleState';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Status(){var state=useContext(GlobleState);var _state$token=_slicedToArray(state.token,1),token=_state$token[0];var _useState=useState('Processing'),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setstatus=_useState2[1];var params=useParams();console.log(status);var myFunction=function myFunction(e){setstatus(e.target.value);};var handleStatus=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.patch(\"/api/payment/\".concat(params.id),{status:status},{headers:{Authorization:token}});case 4:res=_context.sent;alert(res.data.msg);window.location.href=\"/history\";_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);alert(_context.t0.response.data.msg);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleStatus(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleStatus,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Choose a car:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"cars\",onChange:myFunction,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Processing\",children:\"Processing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Shiping\",children:\"Shiping\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Delivered\",children:\"Delivered\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"})]})});}","map":{"version":3,"sources":["C:/Users/Editor/Desktop/Ecommers/client/src/component/mainpages/history/Status.js"],"names":["axios","React","useContext","useState","useParams","GlobleState","Status","state","token","status","setstatus","params","console","log","myFunction","e","target","value","handleStatus","preventDefault","patch","id","headers","Authorization","res","alert","data","msg","window","location","href","response"],"mappings":"0ZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,WAAT,KAA4B,sBAA5B,C,wFACA,cAAe,SAASC,CAAAA,MAAT,EAAkB,CAC7B,GAAMC,CAAAA,KAAK,CAAGL,UAAU,CAACG,WAAD,CAAxB,CACA,gCAAgBE,KAAK,CAACC,KAAtB,IAAOA,KAAP,iBACA,cAA2BL,QAAQ,CAAC,YAAD,CAAnC,wCAAOM,MAAP,eAAcC,SAAd,eACA,GAAMC,CAAAA,MAAM,CAAGP,SAAS,EAAxB,CACAQ,OAAO,CAACC,GAAR,CAAYJ,MAAZ,EAEA,GAAMK,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,CAAO,CACtBL,SAAS,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT,CACH,CAFD,CAGA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOH,CAAP,0HACjBA,CAAC,CAACI,cAAF,GADiB,sCAGEnB,CAAAA,KAAK,CAACoB,KAAN,wBAA4BT,MAAM,CAACU,EAAnC,EAAwC,CAACZ,MAAM,CAACA,MAAR,CAAxC,CAAwD,CACtEa,OAAO,CAAC,CAACC,aAAa,CAACf,KAAf,CAD8D,CAAxD,CAHF,QAGVgB,GAHU,eAMhBC,KAAK,CAACD,GAAG,CAACE,IAAJ,CAASC,GAAV,CAAL,CACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,UAAvB,CAPgB,+EASbL,KAAK,CAAC,YAAIM,QAAJ,CAAaL,IAAb,CAAkBC,GAAnB,CAAL,CATa,oEAAH,kBAAZT,CAAAA,YAAY,4CAAlB,CAaF,mBACE,kCACA,cAAM,QAAQ,CAAEA,YAAhB,wBACI,wCADJ,cAEI,gBAAQ,IAAI,CAAC,MAAb,CAAqB,QAAQ,CAAEJ,UAA/B,wBACI,eAAQ,KAAK,CAAC,YAAd,wBADJ,cAEI,eAAQ,KAAK,CAAC,SAAd,qBAFJ,cAGI,eAAQ,KAAK,CAAC,WAAd,uBAHJ,GAFJ,cAQI,aARJ,cASI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,EATJ,GADA,EADF,CAeD","sourcesContent":["import axios from 'axios';\r\nimport React, { useContext, useState } from 'react'\r\nimport { useParams } from 'react-router-dom';\r\nimport { GlobleState } from '../../../GlobleState';\r\nexport default function Status() {\r\n    const state = useContext(GlobleState)\r\n    const [token] = state.token\r\n    const [status,setstatus] = useState('Processing')\r\n    const params = useParams()\r\n    console.log(status)\r\n\r\n    const myFunction = (e) => {\r\n        setstatus(e.target.value)\r\n    }\r\n    const handleStatus = async (e) => {\r\n        e.preventDefault();\r\n        try{\r\n         const res = await axios.patch(`/api/payment/${params.id}`,{status:status},{\r\n             headers:{Authorization:token}\r\n         })\r\n         alert(res.data.msg)\r\n         window.location.href = \"/history\"\r\n        }catch(err){\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n  return (\r\n    <div>\r\n    <form onSubmit={handleStatus}>\r\n        <label>Choose a car:</label>\r\n        <select name=\"cars\"  onChange={myFunction}>\r\n            <option value=\"Processing\">Processing</option>\r\n            <option value=\"Shiping\">Shiping</option>\r\n            <option value=\"Delivered\">Delivered</option>\r\n           \r\n        </select>\r\n        <br/>\r\n        <input type=\"submit\" value=\"Submit\"/>\r\n    </form>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}