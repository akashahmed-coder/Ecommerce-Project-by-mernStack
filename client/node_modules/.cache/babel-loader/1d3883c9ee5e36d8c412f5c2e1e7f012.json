{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Editor\\\\Desktop\\\\Ecommers\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\Editor\\\\Desktop\\\\Ecommers\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Editor\\\\Desktop\\\\Ecommers\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useContext,useState}from'react';import{GlobleState}from'../../GlobleState';import Menu from'../headers/icons/menu.svg';import Close from'../headers/icons/close.svg';import Cart from'../headers/icons/cart.svg';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){var state=useContext(GlobleState);var _state$userApi$isLogg=_slicedToArray(state.userApi.isLogged,2),isLogged=_state$userApi$isLogg[0],setIsLogged=_state$userApi$isLogg[1];var _state$userApi$isAdmi=_slicedToArray(state.userApi.isAdmin,2),isAdmin=_state$userApi$isAdmi[0],setIsAdmin=_state$userApi$isAdmi[1];var _state$userApi$cart=_slicedToArray(state.userApi.cart,1),cart=_state$userApi$cart[0];var logout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/user/logout');case 2:localStorage.clear();setIsLogged(false);setIsAdmin(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function logout(){return _ref.apply(this,arguments);};}();var adminRouter=function adminRouter(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/create_product\",children:\"Create Product\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/category\",children:\"Categories\"})})]});};var loggedRouter=function loggedRouter(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/history\",children:\"History\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:logout,children:\"Logout\"})})]});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"menu\",children:/*#__PURE__*/_jsx(\"img\",{src:Menu,alt:\"\",width:\"30\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"h1\",{children:isAdmin?'Admin':'DevAt Shop'})})}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:isAdmin?'Products':'Shop'})}),isAdmin&&adminRouter(),isLogged?loggedRouter():/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login and Register\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"img\",{src:Close,alt:\"\",width:\"30\",className:\"menu\"})})]}),isAdmin?'':/*#__PURE__*/_jsxs(\"div\",{className:\"cart-icon\",children:[/*#__PURE__*/_jsx(\"span\",{children:cart.length}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(\"img\",{src:Cart,alt:\"\",width:\"30\"})})]})]})});}export default Header;","map":{"version":3,"sources":["C:/Users/Editor/Desktop/Ecommers/client/src/component/headers/Header.js"],"names":["React","useContext","useState","GlobleState","Menu","Close","Cart","Link","axios","Header","state","userApi","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","logout","get","localStorage","clear","adminRouter","loggedRouter","length"],"mappings":"0ZAAA,MAAOA,CAAAA,KAAP,EAAcC,UAAd,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAASC,WAAT,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,IAAP,KAAiB,2BAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,4BAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,2BAAjB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAGA,QAASC,CAAAA,MAAT,EAAkB,CAChB,GAAMC,CAAAA,KAAK,CAAGT,UAAU,CAACE,WAAD,CAAxB,CACA,yCAA+BO,KAAK,CAACC,OAAN,CAAcC,QAA7C,IAAOA,QAAP,0BAAgBC,WAAhB,0BACA,yCAA6BH,KAAK,CAACC,OAAN,CAAcG,OAA3C,IAAOA,OAAP,0BAAeC,UAAf,0BACA,uCAAeL,KAAK,CAACC,OAAN,CAAcK,IAA7B,IAAOA,IAAP,wBAEC,GAAMC,CAAAA,MAAM,0FAAG,yJACNT,CAAAA,KAAK,CAACU,GAAN,CAAU,cAAV,CADM,QAEZC,YAAY,CAACC,KAAb,GACAP,WAAW,CAAC,KAAD,CAAX,CACAE,UAAU,CAAC,KAAD,CAAV,CAJY,sDAAH,kBAANE,CAAAA,MAAM,0CAAZ,CAMD,GAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACzB,mBACC,wCACA,iCAAI,KAAC,IAAD,EAAM,EAAE,CAAC,iBAAT,4BAAJ,EADA,cAEA,iCAAI,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,wBAAJ,EAFA,GADD,CAMA,CAPD,CASA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,mBACE,wCACF,iCAAI,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,qBAAJ,EADE,cAEF,iCAAI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,OAAO,CAAEL,MAAtB,oBAAJ,EAFE,GADF,CAOD,CARD,CAUA,mBAAO,kCACH,uCAEN,YAAK,SAAS,CAAC,MAAf,uBACE,YAAK,GAAG,CAAEb,IAAV,CAAgB,GAAG,CAAC,EAApB,CAAuB,KAAK,CAAC,IAA7B,EADF,EAFM,cAMN,YAAK,SAAS,CAAC,MAAf,uBACC,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACE,oBAAKU,OAAO,CAAE,OAAF,CAAW,YAAvB,EADF,EADD,EANM,cAYN,mCACE,iCAAI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,UAAcA,OAAO,CAAE,UAAF,CAAc,MAAnC,EAAJ,EADF,CAEKA,OAAO,EAAIO,WAAW,EAF3B,CAIIT,QAAQ,CAAEU,YAAY,EAAd,cAAkB,iCAAI,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,gCAAJ,EAJ9B,cAKE,iCACE,YAAK,GAAG,CAAEjB,KAAV,CAAiB,GAAG,CAAC,EAArB,CAAwB,KAAK,CAAC,IAA9B,CAAmC,SAAS,CAAC,MAA7C,EADF,EALF,GAZM,CAsBLS,OAAO,CAAC,EAAD,cACR,aAAK,SAAS,CAAC,WAAf,wBACE,sBAAOE,IAAI,CAACO,MAAZ,EADF,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,OAAT,uBACA,YAAK,GAAG,CAAEjB,IAAV,CAAgB,GAAG,CAAC,EAApB,CAAuB,KAAK,CAAC,IAA7B,EADA,EAFF,GAvBM,GADG,EAAP,CAkCD,CAED,cAAeG,CAAAA,MAAf","sourcesContent":["import React,{useContext, useState} from 'react';\r\nimport { GlobleState } from '../../GlobleState';\r\nimport Menu from '../headers/icons/menu.svg'\r\nimport Close from '../headers/icons/close.svg'\r\nimport Cart from '../headers/icons/cart.svg'\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\n\r\nfunction Header() {\r\n  const state = useContext(GlobleState)\r\n  const [isLogged,setIsLogged] = state.userApi.isLogged\r\n  const [isAdmin,setIsAdmin] = state.userApi.isAdmin\r\n  const [cart] = state.userApi.cart\r\n\r\n   const logout = async () => {\r\n      await axios.get('/user/logout')\r\n      localStorage.clear()\r\n      setIsLogged(false)\r\n      setIsAdmin(false)\r\n   }\r\n  const adminRouter = () => {\r\n   return(\r\n    <>\r\n    <li><Link to='/create_product'>Create Product</Link></li>\r\n    <li><Link to='/category'>Categories</Link></li>\r\n    </>\r\n   )\r\n  }\r\n\r\n  const loggedRouter = () => {\r\n    return(\r\n      <>\r\n    <li><Link to='/history'>History</Link></li>\r\n    <li><Link to='/' onClick={logout}>Logout</Link></li>\r\n    </>\r\n    )\r\n\r\n  }\r\n\r\n  return <div>\r\n      <header>\r\n\r\n<div className='menu'>\r\n  <img src={Menu} alt='' width='30' />\r\n</div>\r\n\r\n<div className='logo'>\r\n <Link to=\"/\">\r\n   <h1>{isAdmin? 'Admin': 'DevAt Shop'}</h1>\r\n </Link>\r\n</div>\r\n\r\n<ul>\r\n  <li><Link to=\"/\">{isAdmin? 'Products': 'Shop'}</Link></li>\r\n    {isAdmin && adminRouter()}\r\n  \r\n   {isLogged? loggedRouter(): <li><Link to=\"/login\">Login and Register</Link></li>}\r\n  <li>\r\n    <img src={Close} alt='' width='30' className='menu' />\r\n  </li>\r\n</ul>\r\n\r\n{isAdmin?'':\r\n<div className=\"cart-icon\">\r\n  <span>{cart.length}</span>\r\n  <Link to=\"/cart\">\r\n  <img src={Cart} alt='' width='30' />\r\n  </Link>\r\n</div>\r\n}\r\n\r\n      </header>\r\n  </div>\r\n}\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}