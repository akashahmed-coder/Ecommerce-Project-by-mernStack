{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Editor\\\\Desktop\\\\Ecommers\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import{GlobleState}from'../../../GlobleState';import{useParams,Link}from'react-router-dom';import ProductItem from'../utiles/productItem/ProductItem';import{set}from'mongoose';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function DetialsProduct(){var state=useContext(GlobleState);var _state$productsAPI$pr=_slicedToArray(state.productsAPI.products,1),products=_state$productsAPI$pr[0];var addCart=state.userApi.addCart;var params=useParams();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),detailsProduct=_useState2[0],setDetailsProducts=_useState2[1];useEffect(function(){if(params.id){products.forEach(function(product){if(product._id===params.id)setDetailsProducts(product);});}},[params.id,products]);if(detailsProduct.length===0)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(\"img\",{src:detailsProduct.images.url,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-detail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h2\",{children:detailsProduct.title}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"#id:Pr\",detailsProduct.product_id]})]}),/*#__PURE__*/_jsx(\"span\",{children:detailsProduct.price}),/*#__PURE__*/_jsx(\"p\",{children:detailsProduct.content}),/*#__PURE__*/_jsx(\"p\",{children:detailsProduct.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Sold: \",detailsProduct.sold]}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",className:\"cart\",onClick:function onClick(){return addCart(detailsProduct);},children:\"Buy Now\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Related Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products.map(function(product){return product.category===detailsProduct.category&&product._id!==params.id?/*#__PURE__*/_jsx(ProductItem,{product:product},product._id):null;})})]})]});}","map":{"version":3,"sources":["C:/Users/Editor/Desktop/Ecommers/client/src/component/mainpages/detialsProduct/DetialsProduct.js"],"names":["React","useContext","useEffect","useState","GlobleState","useParams","Link","ProductItem","set","DetialsProduct","state","productsAPI","products","addCart","userApi","params","detailsProduct","setDetailsProducts","id","forEach","product","_id","length","images","url","title","product_id","price","content","description","sold","map","category"],"mappings":"wIAAA,MAAOA,CAAAA,KAAP,EAAcC,UAAd,CAA0BC,SAA1B,CAAqCC,QAArC,KAAoD,OAApD,CACA,OAASC,WAAT,KAA4B,sBAA5B,CACA,OAASC,SAAT,CAAmBC,IAAnB,KAA+B,kBAA/B,CACA,MAAOC,CAAAA,WAAP,KAAwB,mCAAxB,CACA,OAASC,GAAT,KAAoB,UAApB,C,6IACA,cAAe,SAASC,CAAAA,cAAT,EAA0B,CACrC,GAAMC,CAAAA,KAAK,CAAGT,UAAU,CAACG,WAAD,CAAxB,CACA,yCAAmBM,KAAK,CAACC,WAAN,CAAkBC,QAArC,IAAOA,QAAP,0BACA,GAAMC,CAAAA,OAAO,CAAGH,KAAK,CAACI,OAAN,CAAcD,OAA9B,CACA,GAAME,CAAAA,MAAM,CAAGV,SAAS,EAAxB,CACA,cAA8CF,QAAQ,CAAC,EAAD,CAAtD,wCAAOa,cAAP,eAAwBC,kBAAxB,eAKAf,SAAS,CAAC,UAAI,CACX,GAAGa,MAAM,CAACG,EAAV,CAAa,CACTN,QAAQ,CAACO,OAAT,CAAiB,SAAAC,OAAO,CAAI,CACzB,GAAIA,OAAO,CAACC,GAAR,GAAgBN,MAAM,CAACG,EAA3B,CAA+BD,kBAAkB,CAACG,OAAD,CAAlB,CACjC,CAFD,EAGH,CACH,CANQ,CAMP,CAACL,MAAM,CAACG,EAAR,CAAWN,QAAX,CANO,CAAT,CAOA,GAAGI,cAAc,CAACM,MAAf,GAA0B,CAA7B,CAAgC,MAAO,KAAP,CAElC,mBACE,wCACA,aAAK,SAAS,CAAC,QAAf,wBACG,YAAK,GAAG,CAAEN,cAAc,CAACO,MAAf,CAAsBC,GAAhC,CAAqC,GAAG,CAAC,EAAzC,EADH,cAEG,aAAK,SAAS,CAAC,YAAf,wBACE,aAAK,SAAS,CAAC,KAAf,wBACE,oBAAKR,cAAc,CAACS,KAApB,EADF,cAEE,+BAAWT,cAAc,CAACU,UAA1B,GAFF,GADF,cAKE,sBAAOV,cAAc,CAACW,KAAtB,EALF,cAME,mBAAIX,cAAc,CAACY,OAAnB,EANF,cAOE,mBAAIZ,cAAc,CAACa,WAAnB,EAPF,cAQE,8BAAUb,cAAc,CAACc,IAAzB,GARF,cASE,KAAC,IAAD,EAAM,EAAE,CAAC,OAAT,CAAiB,SAAS,CAAC,MAA3B,CAAkC,OAAO,CAAE,yBAAIjB,CAAAA,OAAO,CAACG,cAAD,CAAX,EAA3C,qBATF,GAFH,GADA,cAiBA,oCACG,wCADH,cAED,YAAK,SAAS,CAAC,UAAf,UAGFJ,QAAQ,CAACmB,GAAT,CAAa,SAAAX,OAAO,CAAI,CAEjB,MAAOA,CAAAA,OAAO,CAACY,QAAR,GAAqBhB,cAAc,CAACgB,QAApC,EAAgDZ,OAAO,CAACC,GAAR,GAAgBN,MAAM,CAACG,EAAvE,cACL,KAAC,WAAD,EAAgC,OAAO,CAAEE,OAAzC,EAAkBA,OAAO,CAACC,GAA1B,CADK,CAC+C,IADtD,CAGD,CALN,CAHE,EAFC,GAjBA,GADF,CAmCD","sourcesContent":["import React,{useContext, useEffect, useState} from 'react'\r\nimport { GlobleState } from '../../../GlobleState'\r\nimport { useParams,Link } from 'react-router-dom'\r\nimport ProductItem from '../utiles/productItem/ProductItem'\r\nimport { set } from 'mongoose'\r\nexport default function DetialsProduct() {\r\n    const state = useContext(GlobleState)\r\n    const [products] = state.productsAPI.products\r\n    const addCart = state.userApi.addCart\r\n    const params = useParams()\r\n    const [detailsProduct , setDetailsProducts] = useState([])\r\n\r\n\r\n   \r\n\r\n    useEffect(()=>{\r\n       if(params.id){\r\n           products.forEach(product => {\r\n              if (product._id === params.id) setDetailsProducts(product)\r\n           })\r\n       }\r\n    },[params.id,products])\r\n    if(detailsProduct.length === 0) return null       \r\n\r\n  return (\r\n    <>\r\n    <div className='detail'>\r\n       <img src={detailsProduct.images.url} alt=\"\"/>\r\n       <div className='box-detail'>\r\n         <div className='row'>\r\n           <h2>{detailsProduct.title}</h2>\r\n           <h6>#id:Pr{detailsProduct.product_id}</h6>\r\n         </div>\r\n         <span>{detailsProduct.price}</span>\r\n         <p>{detailsProduct.content}</p>\r\n         <p>{detailsProduct.description}</p>\r\n         <p>Sold: {detailsProduct.sold}</p>\r\n         <Link to='/cart' className='cart' onClick={()=>addCart(detailsProduct)}>Buy Now</Link>\r\n\r\n       </div>\r\n    </div>\r\n\r\n    <div>\r\n       <h2>Related Products</h2>\r\n   <div className='products'> \r\n    \r\n    {\r\n products.map(product => {\r\n\r\n        return product.category === detailsProduct.category && product._id !== params.id\r\n        ? <ProductItem key={product._id}  product={product}/>:null\r\n\r\n      })\r\n    }\r\n     \r\n   </div>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}